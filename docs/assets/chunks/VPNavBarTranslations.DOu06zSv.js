import{d as z,p as G,a5 as O,Q as j,o as s,A,E as y,G as C,c as o,f as t,N as K,S as Q,r as q,B as V,U as H,ab as J,_ as E,u as W,k as X,e as h,t as l,g as r,F as k,z as B,n as L}from"./framework.5fhU9H-2.js";import{l as Y,m as Z,u as ee,n as U,T as ae,o as P}from"./theme.KHvOx0vv.js";import{g as te}from"./browser.hwsw6AuU.js";function ne(c,u,i,v){return u?c.replace(/\/$/,"")+Y(i.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,v?".html":"")):c}const se=z({__name:"Modal",props:{width:{type:Number,default:500},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:u}){const i=u,v=()=>{i("update:modelValue",!1)};let g;return G(()=>{g=O("Escape",f=>{f.preventDefault(),v()})}),j(()=>{g==null||g()}),(f,d)=>(s(),A(J,{to:"body"},[y(H,{name:"modal"},{default:C(()=>[c.modelValue?(s(),o("div",{key:0,class:"modal-overlay",onClick:v},[t("div",{class:"modal",style:K({width:`${c.width}px`}),onClick:d[0]||(d[0]=Q(()=>{},["stop"]))},[q(f.$slots,"default",{},void 0,!0)],4)])):V("",!0)]),_:3})]))}}),le=E(se,[["__scopeId","data-v-cd47a512"]]),oe={class:"items"},ie={class:"title"},re={class:"label"},ue={class:"container"},de=["href","hreflang","onClick"],ce={class:"region"},ve={class:"language"},ge={class:"label"},_e={class:"container"},fe=["href","hreflang","onClick"],me={class:"region"},pe={class:"language"},he={class:"label"},ke={class:"container"},ye=["onClick"],Ce={class:"region"},be={class:"language"},Ve=z({__name:"VPNavBarTranslations",setup(c){const{site:u,localeIndex:i,page:v,theme:g,hash:f}=W(),{currency:d,currencies:I}=Z(),{$t:m}=ee(),p=X(!1),{all:x}=te(),_=h(()=>i.value==="root"?U:i.value),M=h(()=>{var a,n;return{label:(a=u.value.locales[i.value])==null?void 0:a.label,link:((n=u.value.locales[i.value])==null?void 0:n.link)||(i.value==="root"?"/":`/${i.value}/`)}}),$=h(()=>Object.entries(u.value.locales).flatMap(([a,n])=>({lang:a==="root"?U:a,region:n.region,currency:n.currency,text:n.label,link:ne(n.link||(a==="root"?"/":`/${a}/`),g.value.i18nRouting!==!1,v.value.relativePath.slice(M.value.link.length-1),!u.value.cleanUrls)+f.value}))),N=h(()=>{const a=[];return $.value.forEach(n=>{const e=x.indexOf(n.lang);e>-1&&(a[e]=n)}),a.filter(Boolean)}),S=h(()=>$.value.filter(a=>!x.includes(a.lang))),D=()=>{p.value=!0},T=()=>{p.value=!1},R=a=>{p.value=a},F=a=>()=>{d.value=a,T()},w=a=>()=>{a.currency&&(d.value=a.currency),T()};return(a,n)=>(s(),o("div",{class:"VPNavBarTranslations",onClick:D},[t("div",oe,[t("span",ie,[t("span",null,l(M.value.label),1),n[1]||(n[1]=t("span",{class:"divider"},null,-1)),t("span",null,l(r(d)),1)]),y(le,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=e=>p.value=e),"onUpdate:visible":R,width:550},{default:C(()=>[y(ae,null,{default:C(()=>[y(P,{title:r(m)("Region and Language")},{default:C(()=>[N.value.length>0?(s(),o(k,{key:0},[t("div",re,l(r(m)("Suggested region and language")),1),t("div",ue,[(s(!0),o(k,null,B(N.value,e=>(s(),o("a",{key:e.link,href:_.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:_.value===e.lang?void 0:w(e)},[r(x).includes(e.lang)?(s(),o("div",{key:0,class:L(["button",{active:_.value===e.lang}])},[t("div",ce,l(e.region),1),t("div",ve,l(e.text),1)],2)):V("",!0)],8,de))),128))])],64)):V("",!0),S.value.length>0?(s(),o(k,{key:1},[t("div",ge,l(r(m)("Choose a region and language")),1),t("div",_e,[(s(!0),o(k,null,B(S.value,e=>(s(),o("a",{key:e.link,href:_.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:_.value===e.lang?void 0:w(e)},[t("div",{class:L(["button",{active:_.value===e.lang}])},[t("div",me,l(e.region),1),t("div",pe,l(e.text),1)],2)],8,fe))),128))])],64)):V("",!0)]),_:1},8,["title"]),y(P,{title:r(m)("Currency")},{default:C(()=>[t("div",he,l(r(m)("Choose a currency")),1),t("div",ke,[(s(!0),o(k,null,B(r(I),(e,b)=>(s(),o("a",{key:e.name,onClick:r(d)===b?void 0:F(b)},[t("div",{class:L(["button",{active:r(d)===b}])},[t("div",Ce,l(e.name),1),t("div",be,l(b),1)],2)],8,ye))),128))])]),_:1},8,["title"])]),_:1})]),_:1},8,["modelValue"])])]))}}),Me=E(Ve,[["__scopeId","data-v-48e6f540"]]);export{Me as default};
