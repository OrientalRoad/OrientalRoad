import{d as U,l as F,a3 as G,H as K,o as s,q as O,I as y,s as C,c as o,z as t,aj as q,K as H,r as A,B as V,T as J,a9 as Q,_ as z,u as W,g as X,h,t as l,v as r,F as k,G as B,n as L}from"./framework.iA63QoZl.js";import{l as Y,u as Z,m as ee,n as I,T as ae,o as P}from"./theme.opH61Nov.js";import{g as te}from"./browser.hwsw6AuU.js";function ne(c,u,i,v){return u?c.replace(/\/$/,"")+Y(i.replace(/(^|\/)index\.md$/,"$1").replace(/\.md$/,v?".html":"")):c}const se=U({__name:"Modal",props:{width:{type:Number,default:500},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(c,{emit:u}){const i=u,v=()=>{i("update:modelValue",!1)};let g;return F(()=>{g=G("Escape",f=>{f.preventDefault(),v()})}),K(()=>{g==null||g()}),(f,d)=>(s(),O(Q,{to:"body"},[y(J,{name:"modal"},{default:C(()=>[c.modelValue?(s(),o("div",{key:0,class:"modal-overlay",onClick:v},[t("div",{class:"modal",style:q({width:`${c.width}px`}),onClick:d[0]||(d[0]=H(()=>{},["stop"]))},[A(f.$slots,"default",{},void 0,!0)],4)])):V("",!0)]),_:3})]))}}),le=z(se,[["__scopeId","data-v-cd47a512"]]),oe={class:"items"},ie={class:"title"},re={class:"label"},ue={class:"container"},de=["href","hreflang","onClick"],ce={class:"region"},ve={class:"language"},ge={class:"label"},_e={class:"container"},fe=["href","hreflang","onClick"],me={class:"region"},pe={class:"language"},he={class:"label"},ke={class:"container"},ye=["onClick"],Ce={class:"region"},be={class:"language"},Ve=U({__name:"VPNavBarTranslations",setup(c){const{site:u,localeIndex:i,page:v,theme:g,hash:f}=W(),{currency:d,currencies:D}=Z(),{$t:m}=ee(),p=X(!1),{all:x}=te(),_=h(()=>i.value==="root"?I:i.value),M=h(()=>{var a,n;return{label:(a=u.value.locales[i.value])==null?void 0:a.label,link:((n=u.value.locales[i.value])==null?void 0:n.link)||(i.value==="root"?"/":`/${i.value}/`)}}),$=h(()=>Object.entries(u.value.locales).flatMap(([a,n])=>({lang:a==="root"?I:a,region:n.region,currency:n.currency,text:n.label,link:ne(n.link||(a==="root"?"/":`/${a}/`),g.value.i18nRouting!==!1,v.value.relativePath.slice(M.value.link.length-1),!u.value.cleanUrls)+f.value}))),T=h(()=>{const a=[];return $.value.forEach(n=>{const e=x.indexOf(n.lang);e>-1&&(a[e]=n)}),a.filter(Boolean)}),w=h(()=>$.value.filter(a=>!x.includes(a.lang))),E=()=>{p.value=!0},N=()=>{p.value=!1},R=a=>{p.value=a},j=a=>()=>{d.value=a,N()},S=a=>()=>{a.currency&&(d.value=a.currency),N()};return(a,n)=>(s(),o("div",{class:"VPNavBarTranslations",onClick:E},[t("div",oe,[t("span",ie,[t("span",null,l(M.value.label),1),n[1]||(n[1]=t("span",{class:"divider"},null,-1)),t("span",null,l(r(d)),1)]),y(le,{modelValue:p.value,"onUpdate:modelValue":n[0]||(n[0]=e=>p.value=e),"onUpdate:visible":R,width:550},{default:C(()=>[y(ae,null,{default:C(()=>[y(P,{title:r(m)("Region and Language")},{default:C(()=>[T.value.length>0?(s(),o(k,{key:0},[t("div",re,l(r(m)("Suggested region and language")),1),t("div",ue,[(s(!0),o(k,null,B(T.value,e=>(s(),o("a",{key:e.link,href:_.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:_.value===e.lang?void 0:S(e)},[r(x).includes(e.lang)?(s(),o("div",{key:0,class:L(["button",{active:_.value===e.lang}])},[t("div",ce,l(e.region),1),t("div",ve,l(e.text),1)],2)):V("",!0)],8,de))),128))])],64)):V("",!0),w.value.length>0?(s(),o(k,{key:1},[t("div",ge,l(r(m)("Choose a region and language")),1),t("div",_e,[(s(!0),o(k,null,B(w.value,e=>(s(),o("a",{key:e.link,href:_.value===e.lang?void 0:e.link,hreflang:e.lang,onClick:_.value===e.lang?void 0:S(e)},[t("div",{class:L(["button",{active:_.value===e.lang}])},[t("div",me,l(e.region),1),t("div",pe,l(e.text),1)],2)],8,fe))),128))])],64)):V("",!0)]),_:1},8,["title"]),y(P,{title:r(m)("Currency")},{default:C(()=>[t("div",he,l(r(m)("Choose a currency")),1),t("div",ke,[(s(!0),o(k,null,B(r(D),(e,b)=>(s(),o("a",{key:e.name,onClick:r(d)===b?void 0:j(b)},[t("div",{class:L(["button",{active:r(d)===b}])},[t("div",Ce,l(e.name),1),t("div",be,l(b),1)],2)],8,ye))),128))])]),_:1},8,["title"])]),_:1})]),_:1},8,["modelValue"])])]))}}),Me=z(Ve,[["__scopeId","data-v-48e6f540"]]);export{Me as default};
